{% extends "base.html" %}

{% block content %}

<br>
<h1>Consultar horários</h1>
<br>
<style>
    td, th {
        padding: 10px;
    }
</style>
<body>
    {% if employee == None %}
    <table border="1">
        <tr>
            <td>Horario</td>
            <td>Funcionario</td>
            <td>Status</td>
            {% if user.type == 'F' %}
                <td>Cliente</td>
            {% endif %}
        </tr>

        {% for schedule in schedules %}
        <tr>
            <td>{{ schedule.data }}</td>  
            <td>{{ schedule.responsible.name }}</td>
            {% if schedule.client != '' %}
                <td>Reservado</td>
            {% else %}
                <td>Disponível</td>
            {% endif %}
            {% if user.type == 'F' %}
                <td>{{ schedule.client }}</td>
            {% endif %}
        </tr>
        {% endfor %}
    </table>
    {% endif %}

    {% if employee != None %}
    <table border="1">
        <tr>
            <td>Horario</td>
            <td>Funcionario</td>
            <td>Status</td>
            {% if user.type == 'F' %}
                <td>Cliente</td>
            {% endif %}
        </tr>
        {% for schedule in spec_schedules %}
        <tr>
            <td>{{ schedule.data }}</td>  
            <td>{{ employee }}</td>
            {% if schedule.client != '' %}
                <td>Reservado</td>
            {% else %}
                <td>Disponível</td>
            {% endif %}
            {% if user.type == 'F' %}
                <td>{{ schedule.client }}</td>
            {% endif %}
        </tr>
        {% endfor %}
    </table>
    {% endif %}

    <br>
    <form action="/search" method="post">
        <label for="funcionario">Filtrar por Funcionário:</label>
        <input type="text" name="funcionario" id="funcionario" required><br>
        <input type="submit" value="Pesquisar">
    </form>
</body>
{% endblock %}